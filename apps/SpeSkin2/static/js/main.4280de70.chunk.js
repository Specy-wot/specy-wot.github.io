(this["webpackJsonpreact-gota"]=this["webpackJsonpreact-gota"]||[]).push([[0],{44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var n=s(17),a=s(9),i=s.n(a),r=s(13),c=s(2),o=s(3),l=s(5),h=s(4),d=s(0),p=s(1),k=s(14),u=s.n(k),m=s(15),j=s.n(m),S=(s(44),s(45),s(6)),v=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).toggleName=function(){n.setState({nameShown:!0})},n.hideName=function(){n.setState({nameShown:!1})},n.state={skin:n.props.skin,nameShown:!1},"gallery"===n.props.type?n.addSkin=n.props.addSkin.bind(Object(S.a)(n),n.props.skin):n.removeSkin=n.props.removeSkin.bind(Object(S.a)(n),n.props.skin),n}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.skin,t="https://gamedata.gota.io/skins/"+e+".png",s="gallery"===this.props.type;return Object(d.jsxs)("div",{className:"skinWrapper",onMouseOver:this.toggleName,onMouseLeave:this.hideName,onClick:this.toggleName,children:[Object(d.jsx)("div",{className:this.state.nameShown?"skinText":"skinText hidden",children:e}),Object(d.jsx)("img",{src:t,alt:e,className:"skinImg"}),Object(d.jsx)("div",{className:"buttonsHolder",children:Object(d.jsx)("button",{className:s?"skinBtn green":"skinBtn red",onClick:s?this.props.addSkin:this.props.removeSkin,children:s?"+":"-"})})]})}}]),s}(p.Component),g=s(16),b=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getPage=function(){var e=n.state.skins;if(0!==n.props.skins.length)if(n.props.dontRandomize){for(var t=0;t<n.skinsPerPage&&!(n.currentIndex+1>n.props.skins.length);t++)n.state.skins.push(n.props.skins[n.currentIndex]),n.currentIndex++;n.setState({skins:n.state.skins,search:n.props.search})}else{for(var s=0;s<n.skinsPerPage;s++){var a=Math.floor(Math.random()*n.props.skins.length);if(n.currentIndex++,0===n.props.skins.length)break;var i=n.props.skins[a];n.props.skins.splice(a,1),e.push(i)}n.setState({skins:e,search:n.props.search})}},n.skinsPerPage=20,n.state={skins:[],search:""},n.currentIndex=0,n}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return 0===this.state.skins.length&&this.getPage(),Object(d.jsx)("div",{id:this.props.elId,className:"skinsHolder  scroll-bar",children:Object(d.jsx)(g.a,{className:"infiniteScroll",dataLength:this.state.skins.length,hasMore:!0,scrollThreshold:.99,next:this.getPage,scrollableTarget:this.props.elId,children:this.state.skins.map((function(t,s){return Object(d.jsx)(v,{skin:t,type:e.props.type,addSkin:e.props.addSkin,removeSkin:e.props.removeSkin},t+"_key"+s)}))})})}}]),s}(p.Component),O=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).updateSeries=function(e){n.setState({currentSearch:e.target.value.toLowerCase()})},n.state={currentSearch:""},n}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("div",{className:"series",children:Object(d.jsxs)("div",{className:"searchRow",children:[Object(d.jsx)("input",{type:"text",className:"searchInput wm-L1",placeholder:"Skin name",onBlur:this.updateSeries}),Object(d.jsx)("button",{className:"searchBtn wm-L1",onClick:this.props.search.bind(this,this.state.currentSearch),children:"\ud83d\udd0d"})]})}),Object(d.jsx)(b,{dontRandomize:!0,search:this.props.searchName,elId:"search",skins:this.props.skins,addSkin:this.props.addSkin,type:this.props.type,removeSkin:this.props.removeSkin})]})}}]),s}(p.Component),x=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){return Object(c.a)(this,s),t.call(this,e)}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("div",{className:"title",children:"Gallery"}),Object(d.jsx)(b,{elId:"gallery",search:"",skins:this.props.skins,addSkin:this.props.addSkin,type:this.props.type,removeSkin:this.props.removeSkin})]})}}]),s}(p.Component),f=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){return Object(c.a)(this,s),t.call(this,e)}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("div",{className:"title",children:"Your skins"}),Object(d.jsx)(b,{elId:"savedSkins",search:"",type:this.props.type,addSkin:this.props.addSkin,skins:this.props.skins,removeSkin:this.props.removeSkin})]})}}]),s}(p.Component),N=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).handleFocus=function(e){return e.target.select()},n.export=function(){var e=localStorage.getItem("savedSkins");e=null===e?[]:JSON.parse(e),n.setState({exportedSkins:e.join(",")})},n.handleInputChange=function(e){n.setState({importedSkins:e.target.value})},n.sendSkinArr=function(){var e=n.state.importedSkins;if(""!==e){var t=e.split(",");n.props.importSkinArr(t),n.setState({importedSkins:""})}else alert("Write some skins first!")},n.state={exportedSkins:"",importedSkins:""},n}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"view",children:Object(d.jsxs)("div",{className:"importExport",children:[Object(d.jsxs)("div",{className:"inputColumn",children:[Object(d.jsx)("button",{className:"button green imexBtn",onClick:this.export,children:"Export saved skins"}),Object(d.jsx)("textarea",{placeholder:"Your skins will be here",onClick:this.handleFocus,className:"skinsInput wm-L2",value:this.state.exportedSkins,readOnly:!0})]}),Object(d.jsxs)("div",{className:"inputColumn",children:[Object(d.jsx)("button",{className:"button darkTeal imexBtn",onClick:this.sendSkinArr,children:"Import skins"}),Object(d.jsx)("textarea",{placeholder:"Write skins to import here separated by a comma, example: skin1,skin2,skin3",className:"skinsInput wm-L2",onChange:this.handleInputChange,value:this.state.importedSkins})]})]})})}}]),s}(p.Component),y=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(c.a)(this,s),(e=t.call(this)).getSkins=Object(r.a)(i.a.mark((function t(){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],0===(n=null===(n=localStorage.getItem("gameSkins"))?[]:JSON.parse(n)).length){t.next=7;break}e.setState({skins:n,loading:!1}),t.next=12;break;case 7:return t.next=9,fetch("https://cors-anywhere.herokuapp.com/https://gamedata.gota.io/skinData.php").then((function(e){return e.json()}));case 9:s=t.sent,s=JSON.parse(s.names),e.setState({skins:s,loading:!1});case 12:return t.next=14,fetch("https://cors-anywhere.herokuapp.com/https://gamedata.gota.io/skinData.php").then((function(e){return e.json()}));case 14:s=t.sent,(s=JSON.parse(s.names)).length>n.length&&(localStorage.setItem("gameSkins",JSON.stringify(s)),console.log("updated"));case 17:case"end":return t.stop()}}),t)}))),e.addskin=function(t){t=t.target.parentElement.parentElement.querySelector(".skinText").innerText;var s=e.state.savedSkins;s.includes(t)||(s.push(t),localStorage.setItem("savedSkins",JSON.stringify(s)),e.setState({savedSkins:s}))},e.importSkinArr=function(t){var s=e.state.savedSkins;t.forEach((function(e){s.includes(e)||s.push(e)})),e.setState({savedSkins:s}),localStorage.setItem("savedSkins",JSON.stringify(s)),e.setState({savedSkins:s})},e.removeSkin=function(t){t=t.target.parentElement.parentElement.querySelector(".skinText").innerText;var s=e.state.savedSkins,n=s.indexOf(t);-1!==n&&(s.splice(n,1),localStorage.setItem("savedSkins",JSON.stringify(s)),e.setState({savedSkins:s}))},e.search=function(t){if(""!==t.length){var s=e.state.skins,n=new RegExp("^\\d*"+t+"\\d*$");(s=s.filter((function(e){return n.test(e)}))).sort((function(e,t){return e.localeCompare(t,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})),e.setState({searchSkin:t,searchSkins:s})}},e.changePageIndex=function(t){e.setState({pageIndex:t})};var n=null===localStorage.getItem("savedSkins")?[]:JSON.parse(localStorage.getItem("savedSkins"));return e.state={loading:!0,skins:[],pageIndex:0,savedSkins:n,searchSkin:"",searchSkins:[]},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getSkins()}},{key:"render",value:function(){var e="navItem dm-L1",t="navItem selectedTab",s=this.state.pageIndex;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"navbar dm-L3",children:[Object(d.jsx)("button",{className:0===s?t:e,onClick:this.changePageIndex.bind(this,0),children:"Discover"}),Object(d.jsx)("button",{className:1===s?t:e,onClick:this.changePageIndex.bind(this,1),children:"Gallery"}),Object(d.jsx)("button",{className:2===s?t:e,onClick:this.changePageIndex.bind(this,2),children:"Your skins"}),Object(d.jsx)("button",{className:3===s?t:e,onClick:this.changePageIndex.bind(this,3),children:"Other"})]}),this.state.loading?Object(d.jsx)("div",{className:"title text-white",children:"Loading..."}):Object(d.jsx)("div",{}),Object(d.jsxs)(j.a,{index:s,onChangeIndex:this.changePageIndex,className:"slider",children:[Object(d.jsx)(O,{skins:this.state.searchSkins,search:this.search,searchName:this.state.searchSkin,addSkin:this.addskin,type:"gallery"},this.state.searchSkin),Object(d.jsx)(x,{skins:this.state.skins,addSkin:this.addskin,type:"gallery"}),Object(d.jsx)(f,{skins:Object(n.a)(this.state.savedSkins),removeSkin:this.removeSkin,type:"savedSkins"},this.state.savedSkins.length),Object(d.jsx)(N,{importSkinArr:this.importSkinArr})]})]})}}]),s}(p.Component);u.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.4280de70.chunk.js.map